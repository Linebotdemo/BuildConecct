<!-- index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Shelter</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

  <!-- カスタム CSS -->
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <!-- 画像拡大用モーダル -->
  <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-transparent border-0">
        <img id="modalImg" src="" class="img-fluid rounded" alt="拡大画像">
      </div>
    </div>
  </div>

  <div class="container my-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1>Smart Shelter</h1>
      <a href="/login" class="btn btn-outline-primary">自治体用ログイン</a>
    </div>

    <!-- 検索 -->
    <div class="mb-4">
      <h2>避難所検索</h2>
      <input type="text" id="search" placeholder="避難所名、住所、キーワードで検索" class="form-control"/>
    </div>

    <!-- 災害警報 -->
    <div id="alert-section" class="alert-section mb-4">
      <p>読み込み中…</p>
    </div>

    <!-- フィルタ -->
    <div class="mb-4">
      <h3>フィルタ</h3>
      <form id="filter-form" class="d-flex flex-wrap align-items-center gap-3">
        <!-- 属性チェック -->
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="pets_allowed" id="filter-pets_allowed">
          <label class="form-check-label" for="filter-pets_allowed">ペット可</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="barrier_free" id="filter-barrier_free">
          <label class="form-check-label" for="filter-barrier_free">バリアフリー</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="toilet_available" id="filter-toilet_available">
          <label class="form-check-label" for="filter-toilet_available">トイレ</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="food_available" id="filter-food_available">
          <label class="form-check-label" for="filter-food_available">食料提供</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="medical_available" id="filter-medical_available">
          <label class="form-check-label" for="filter-medical_available">医療対応</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="wifi_available" id="filter-wifi_available">
          <label class="form-check-label" for="filter-wifi_available">Wi-Fi</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="charging_available" id="filter-charging_available">
          <label class="form-check-label" for="filter-charging_available">充電設備</label>
        </div>

        <!-- 状態フィルタ -->
        <div class="form-group d-flex align-items-center ms-3">
          <label for="filter-status" class="me-2 mb-0">状態:</label>
          <select id="filter-status" class="form-select form-select-sm w-auto">
            <option value="">全て</option>
            <option value="open">開設中</option>
            <option value="closed">閉鎖</option>
          </select>
        </div>

        <!-- 距離フィルタ -->
        <div class="form-group d-flex align-items-center ms-3">
          <label for="filter-distance" class="me-2 mb-0">範囲:</label>
          <select id="filter-distance" class="form-select form-select-sm w-auto">
            <option value="0">全て</option>
            <option value="5">5km以内</option>
            <option value="10">10km以内</option>
            <option value="20">20km以内</option>
          </select>
        </div>
      </form>
    </div>

    <!-- 避難所一覧 -->
    <div class="mb-4">
      <h3>避難所一覧</h3>
      <div id="shelter-list"></div>
    </div>

    <!-- マップ -->
    <div class="mb-4">
      <h3>避難所マップ</h3>
      <div id="map" style="height:400px;"></div>
    </div>
  </div>

  <!-- JSライブラリ -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- カスタムスクリプト -->
  <script src="/static/script.js" defer></script>


</body>
</html>
